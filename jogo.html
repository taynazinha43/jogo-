<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Jogo de Moto</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      background: #87CEEB;
      overflow: hidden;
      font-family: sans-serif;
    }
    #gameCanvas {
      display: block;
      background: #d0f4f7;
      margin: 20px auto;
      border: 2px solid #333;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas" width="800" height="400"></canvas>
  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');

    // Propriedades da moto
    const bike = {
      x: 50,
      y: canvas.height - 60,
      width: 50,
      height: 30,
      velY: 0,
      gravity: 1.2,
      jumpPower: 18,
      jumping: false
    };

    // Obstáculos
    const obstacles = [];
    let frames = 0;
    let speed = 6;
    let score = 0;
    let gameOver = false;

    // Captura de teclado
    document.addEventListener('keydown', e => {
      if ((e.code === 'Space' || e.code === 'ArrowUp') && !bike.jumping) {
        bike.velY = -bike.jumpPower;
        bike.jumping = true;
      }
    });

    // Função de atualização
    function update() {
      if (gameOver) return;
      frames++;
      score++;

      // Gravidade e salto
      bike.velY += bike.gravity;
      bike.y += bike.velY;
      if (bike.y >= canvas.height - bike.height - 30) {
        bike.y = canvas.height - bike.height - 30;
        bike.velY = 0;
        bike.jumping = false;
      }

      // Geração de obstáculos
      if (frames % 90 === 0) {
        const size = 30 + Math.random() * 20;
        obstacles.push({
          x: canvas.width,
          y: canvas.height - size - 30,
          width: size,
          height: size
        });
      }

      // Atualiza obstáculos
      for (let i = 0; i < obstacles.length; i++) {
        const obs = obstacles[i];
        obs.x -= speed;
        // Colisão
        if (
          bike.x < obs.x + obs.width &&
          bike.x + bike.width > obs.x &&
          bike.y < obs.y + obs.height &&
          bike.y + bike.height > obs.y
        ) {
          gameOver = true;
        }
      }

      // Remove obstáculos fora da tela
      while (obstacles.length && obstacles[0].x < -50) {
        obstacles.shift();
      }

      // Aumenta velocidade gradualmente
      if (frames % 300 === 0) speed += 0.5;
    }

    // Função de desenho
    function draw() {
      // Fundo
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Chão
      ctx.fillStyle = '#654321';
      ctx.fillRect(0, canvas.height - 30, canvas.width, 30);

      // Moto
      ctx.fillStyle = '#ff0000';
      ctx.fillRect(bike.x, bike.y, bike.width, bike.height);

      // Rodas
      ctx.fillStyle = '#000';
      ctx.beginPath();
      ctx.arc(bike.x + 10, bike.y + bike.height, 8, 0, Math.PI * 2);
      ctx.arc(bike.x + bike.width - 10, bike.y + bike.height, 8, 0, Math.PI * 2);
      ctx.fill();

      // Obstáculos
      ctx.fillStyle = '#228B22';
      obstacles.forEach(obs => {
        ctx.fillRect(obs.x, obs.y, obs.width, obs.height);
      });

      // Pontuação
      ctx.fillStyle = '#000';
      ctx.font = '20px sans-serif';
      ctx.fillText('Pontuação: ' + score, 10, 25);

      // Game Over
      if (gameOver) {
        ctx.fillStyle = 'rgba(0,0,0,0.5)';
        ctx.fillRect(0, 0, canvas.width, canvas.height);
        ctx.fillStyle = '#fff';
        ctx.font = '40px sans-serif';
        ctx.textAlign = 'center';
        ctx.fillText('Game Over', canvas.width / 2, canvas.height / 2 - 20);
        ctx.font = '20px sans-serif';
        ctx.fillText('Pressione F5 para reiniciar', canvas.width / 2, canvas.height / 2 + 20);
      }
    }

    // Loop principal
    function loop() {
      update();
      draw();
      requestAnimationFrame(loop);
    }

    loop();
  </script>
  <button onclick="window.location.href='jogopr2.html'">2 game </button>
</body>
</html>